var canvas=document.createElement("canvas");const ctx=canvas.getContext("2d"),players=[["orange","u",150,100,[]],["blue","d",150,200,[]]];ctx.fillStyle="black",ctx.fillRect(0,0,canvas.width,canvas.width);const mainloop=setInterval((()=>{for(let e in players){const a=[e[2],e[3]];switch(e[1]){case"u":e[4].push(a),e[3]++;break;case"d":e[4].push(a),e[3]--;break;case"l":e[4].push(a),e[2]++;break;case"r":e[4].push(a),e[2]--}ctx.fillStyle=e[0],ctx.fillRect(e[2],e[3],3,3);for(let a in e[4])ctx.fillRect(a[0],a[1],2,2);for(let a in players[0][4])[e[2],e[3]]==a&&(e[0]="black",alert(`${e[0]} has crashed`))}}),100);addEventListener("keydown",(e=>{switch(e.key){case"i":players[0][1]="u";break;case"j":players[0][1]="l";break;case"k":players[0][1]="d";break;case"l":players[0][1]="r";break;case"w":players[1][1]="u";break;case"a":players[1][1]="l";break;case"s":players[1][1]="d";break;case"d":players[1][1]="r"}}));